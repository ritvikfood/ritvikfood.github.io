---
layout: landing
---
<!-- Banner -->
<section id="banner">
	<div class="inner">
		<h2>{{ site.title }}</h2>
		<p>{{ site.description | markdownify }}</p>
	</div>
	<a class="more scrolly">Creations</a>
</section>

<!-- Pics -->

<section id="pics">
	
	{% assign pics = '' %}
	{% assign name_sorted_files = site.static_files | sort: "path" | reverse %}
	{% for file in name_sorted_files %}
	    {% assign fileName = file.path %}
	    {% if fileName contains 'images/IMG' %}
	        {% assign pics = pics | append: fileName %}
	        {% assign pics = pics | append: "|" %}
	    {% endif %}
	{% endfor %}
	
	<div class="row">
		<div class="column" id="col1"></div>
		<div class="column" id="col2"></div>
		<div class="column" id="col3"></div>
	</div>
	
	<script>
	let count = 0;
	let picsArray = "{{pics}}".split('|');
	picsArray.pop();
		
	for (let src of picsArray){
	    var chosenCol = "col" + (count % 3 + 1);
	    count = count + 1;
	    let parts = src.split('_');
	    let date = parts[2];
	    let foodName = parts[3];
	    let ingredients = parts[4];
	    ingredients = ingredients.split('.')[0].split('-');
		
	    ingredients = ingredients.join(" &middot ");
		
	    let newElement = '<div class="container"> <img class="lazy" data-src="'+src+'"/> <div class="topleft"> <div class="text">'+foodName+'<br/>'+date+'</div> </div> <div class="bottomRight"> <div class="text">'+ingredients+'</div> </div> </div>';
		
	    document.getElementById(chosenCol).innerHTML += newElement
	}
	</script>
	
	<script>
	  document.addEventListener("DOMContentLoaded", function() {
	  var lazyloadImages = document.querySelectorAll("img.lazy");    
	  var lazyloadThrottleTimeout;

	  function lazyload () {
	    if(lazyloadThrottleTimeout) {
	      clearTimeout(lazyloadThrottleTimeout);
	    }    

	    lazyloadThrottleTimeout = setTimeout(function() {
		var scrollTop = window.pageYOffset;
		lazyloadImages.forEach(function(img) {
		    if(img.offsetTop < (window.innerHeight + scrollTop)) {
		      img.src = img.dataset.src;
		      img.classList.remove('lazy');
		    }
		});
		if(lazyloadImages.length == 0) { 
		  document.removeEventListener("scroll", lazyload);
		  window.removeEventListener("resize", lazyload);
		  window.removeEventListener("orientationChange", lazyload);
		}
	    }, 20);
	  }

	  document.addEventListener("scroll", lazyload);
	  window.addEventListener("resize", lazyload);
	  window.addEventListener("orientationChange", lazyload);
	});
	</script>
			
</section>
